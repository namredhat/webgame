<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8"><title>N</title><meta name="viewport" content="width=device-width,initial-scale=1"><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet"><style>*{margin:0;padding:0;overflow:hidden}body{background:#05050f}canvas{display:block}#s{position:fixed;bottom:8px;right:12px;font-family:Poppins;font-weight:700;font-size:13px;color:#0ff8;pointer-events:none;user-select:none}#f{position:fixed;bottom:20px;right:20px;width:80px;height:80px;border-radius:50%;background:#0ff4;border:2px solid #0ff;z-index:10;touch-action:manipulation}</style></head><body><canvas id=c></canvas><div id=f></div><div id=s>© 2026 TruongQuocNam</div><script>const $=document,c=$.getElementById('c'),x=c.getContext('2d'),W=()=>c.width,H=()=>c.height,R=a=>Math.random()*a,D=(a,b,c,d)=>Math.hypot(a-c,b-d);addEventListener('resize',_=>{c.width=innerWidth;c.height=innerHeight});c.width=innerWidth;c.height=innerHeight;let p={x:W()/2,y:H()*.78,tx:W()/2,ty:H()*.78,h:5,m:5,t:0},B=[],E=[],Q=[],S=[],T=[],z=0,l=1,nx=1000,k=0,fc=0,sc=0,ch=0,go=0,fa=0,rb=null,mx=W()/2,my=H()/2,u={m:0,f:0,p:0,x:0,l:0,h:0},N={m:'MULTI',f:'FIRE',p:'PIERCE',x:'BOOM',l:'LIFE',h:'HOME'},o=[],rt=[];const F=$.getElementById('f');F.ontouchstart=_=>{fa=1;F.style.transform='scale(.9)'};F.ontouchend=_=>{fa=0;F.style.transform='scale(1)'};addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY});addEventListener('touchmove',e=>{e.preventDefault();mx=e.touches[0].clientX;my=e.touches[0].clientY},{passive:0});addEventListener('mousedown',e=>ch?U(e.clientX,e.clientY):0);addEventListener('touchstart',e=>ch?U(e.touches[0].clientX,e.touches[0].clientY):0,{passive:0});addEventListener('mousedown',e=>{go&&rb&&e.clientX>rb.x&&e.clientX<rb.x+rb.w&&e.clientY>rb.y&&e.clientY<rb.y+rb.h&&rs()});addEventListener('touchstart',e=>{go&&rb&&((t=>t.clientX>rb.x&&t.clientX<rb.x+rb.w&&t.clientY>rb.y&&t.clientY<rb.y+rb.h&&rs())(e.touches[0]))},{passive:0});function boom(x,y,c,n=20,v=9,l=1.1){for(let i=0;i<n;i++){let a=R(Math.PI*2),s=R(v-.5)+1.5;Q.push({x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,life:l,dec:R(.03)+.025,c,size:R(3)+1.5})}}function g(x,y,r,c,a=1){x.save();x.globalAlpha=a;for(let i=4;i--;)x.globalAlpha*=.4,x.beginPath(),x.arc(x,y,r*i*1.4,0,6.28),x.fillStyle=c,x.fill();x.restore()}function tr(x,y){Math.random()<.7||T.push({x,y,c:'rgba(0,240,255,.6)',life:.9,dec:.08})}function pick(){o=Object.keys(u).filter(k=>u[k]<5).sort(_=>Math.random()-.5).slice(0,3);rt=o.map((_,i)=>({x:W()/2-240,y:H()*.32+i*150,w:480,h:130}))}function U(x,y){rt.forEach((r,i)=>{if(x>r.x&&x<r.x+r.w&&y>r.y&&y<r.y+r.h){u[o[i]]++;ch=0;k=16;boom(W()/2,H()*.4,'#0ff',30,12,1.3)}})}function du(){x.fillStyle='rgba(8,8,30,.82)';x.fillRect(0,0,W(),H());x.strokeStyle='rgba(0,240,255,.4)';x.lineWidth=2;x.setLineDash([8,12]);x.strokeRect(0,0,W(),H());x.setLineDash([]);rt.forEach((r,i)=>{let s=u[o[i]]>=4;x.fillStyle=s?'rgba(80,40,120,.4)':'#121230';x.fillRect(r.x,r.y,r.w,r.h,18);x.strokeStyle=s?'#f8f':'#0ff';x.lineWidth=s?5:3;x.strokeRect(r.x+4,r.y+4,r.w-8,r.h-8);x.fillStyle=s?'#fdf':'#fff';x.font=s?'bold 34px Arial':'bold 30px Arial';x.textAlign='left';x.fillText(N[o[i]]+' LV'+(u[o[i]]+1),r.x+60,r.y+80);x.font='22px Arial';x.fillStyle='rgba(220,240,255,.8)';x.fillText('+'+(u[o[i]]+1)+' '+o[i].toUpperCase(),r.x+60,r.y+115)})}function rs(){p.h=p.m;z=l=1;nx=1000;B=E=Q=T=S=[];u={m:0,f:0,p:0,x:0,l:0,h:0};fc=sc=k=ch=go=0;rb=null}let M=W()<600,S=M?W()/420:W()/1200,fs=Math.max(16,22*S),hw=M?W()*.75:320*S,hh=M?16:20*S,hx=(W()-hw)/2,hy=M?50:35;function L(){requestAnimationFrame(L);x.fillStyle='#050514';x.fillRect(0,0,W(),H());x.strokeStyle='rgba(0,80,120,.12)';x.lineWidth=1;for(let i=0;i<W();i+=80)x.beginPath(),x.moveTo(i,0),x.lineTo(i,H()),x.stroke();for(let i=0;i<H();i+=80)x.beginPath(),x.moveTo(0,i),x.lineTo(W(),i),x.stroke();let ox=R(k)*1.4-k*.7,oy=R(k)*1.4-k*.7;k*=.88;if(!ch){p.tx=mx;p.ty=my;p.x+=(p.tx-p.x)*.16;p.y+=(p.ty-p.y)*.16;p.t=Math.max(-28,Math.min(28,(p.tx-p.x)*.6));fc--;if(fc<=0){let n=1+u.m;for(let i=0;i<n;i++){let a=(i-(n-1)/2)*.18;B.push({x:p.x+(i-(n-1)/2)*8,y:p.y-28,vx:Math.sin(a)*19,vy:-Math.cos(a)*19,p:u.p,h:u.h,life:1.4});tr(p.x,p.y)}fc=Math.max(4,13-u.f*2.1)}sc--;if(sc<=0){let tp='str'[0|Math.random()*3],v=tp=='t'?1.1:tp=='s'?4.8:2.3,r=tp=='t'?38:tp=='s'?20:27,cl=tp=='t'?'#c6a':tp=='s'?'#f47d':'#fa3';E.push({x:R(W()-120)+60,y:-60,t:tp,h:2+l*.8|0,v,r,cl,hp:tp=='t'?((2+l*.8|0)*4.2|0):(2+l*.8|0)});sc=Math.max(14,85-l*4)}}S.forEach((a,i)=>{a.r+=14;a.a-=12;a.a<=0?S.splice(i,1):(x.strokeStyle=`rgba(255,220,80,${a.a/280})`,x.lineWidth=6-a.a/60,x.beginPath(),x.arc(a.x+ox,a.y+oy,a.r,0,6.28),x.stroke(),g(a.x+ox,a.y+oy,a.r*.7,'rgba(255,240,100,.4)',a.a/400))});B.forEach((a,i)=>{if(a.h>0&&E.length){let t=E.reduce((p,c)=>D(c.x,c.y,a.x,a.y)<D(p.x,p.y,a.x,a.y)?c:p,E[0]),g=Math.atan2(t.y-a.y,t.x-a.x);a.vx+=Math.cos(g)*(.6+a.h*.7);a.vy+=Math.sin(g)*(.6+a.h*.7);let sp=Math.hypot(a.vx,a.vy);if(sp>24)a.vx*=24/sp,a.vy*=24/sp}a.x+=a.vx;a.y+=a.vy;a.life-=.014;tr(a.x,a.y);g(a.x+ox,a.y+oy,6,'#0ff',.5);x.strokeStyle=`rgba(0,255,255,${a.life*1.4})`;x.lineWidth=5+a.life*2;x.beginPath();x.moveTo(a.x+ox,a.y+oy);x.lineTo(a.x-a.vx*1.6+ox,a.y-a.vy*1.6+oy);x.stroke();(a.y<-80||a.x<-80||a.x>W()+80||a.life<=0)&&B.splice(i,1)});E.forEach((a,ai)=>{a.y+=a.v;let ex=a.x+ox,ey=a.y+oy;x.strokeStyle=a.cl;x.lineWidth=4;x.shadowColor=a.cl;x.shadowBlur=25;x.beginPath();if(a.t=='t')for(let i=0;i<7;i++){let ang=i*Math.PI/3.5+Date.now()*.001;x.lineTo(ex+Math.cos(ang)*a.r,ey+Math.sin(ang)*a.r)}else if(a.t=='s'){x.moveTo(ex,ey+a.r*1.1);x.lineTo(ex-a.r*.9,ey-a.r*.7);x.lineTo(ex+a.r*.9,ey-a.r*.7)}else{x.moveTo(ex,ey-a.r);x.lineTo(ex+a.r*.9,ey);x.lineTo(ex,ey+a.r*1.1);x.lineTo(ex-a.r*.9,ey)}x.closePath();x.stroke();x.shadowBlur=0;B.forEach((j,ji)=>{if(D(a.x,a.y,j.x,j.y)<a.r+6){a.h--;boom(j.x,j.y,'#fff',8,4,.9);j.p>0?j.p--:B.splice(ji,1);if(a.h<=0){z+=100;k=15;boom(a.x,a.y,a.cl,28,10,1.4);if(u.x>0){S.push({x:a.x,y:a.y,r:20,a:240});E.forEach(o=>D(o.x,o.y,a.x,a.y)<180&&(o.h-=u.x*3.5))}u.l>0&&Math.random()<.18&&(p.h=Math.min(p.m,p.h+1));E.splice(ai,1)}})});if(D(a.x,a.y,p.x,p.y)<a.r+28){p.h--;k=30;E.splice(ai,1);boom(p.x,p.y,'#f44',18,6)}});let px=p.x+ox,py=p.y+oy;for(let i=3;i--;)x.fillStyle=`rgba(255,${180-i*40},40,${.6+i*.15})`,x.beginPath(),x.ellipse(px+R(12)-6+p.t*.25,py+R(10)+8,5,R(16)+8,0,0,6.28),x.fill();x.shadowColor='#0ff';x.shadowBlur=20;x.beginPath();x.moveTo(px,py-42);x.lineTo(px-32+p.t,py+18);x.lineTo(px-12+p.t*.4,py+4);x.lineTo(px+12+p.t*.4,py+4);x.lineTo(px+32+p.t,py+18);x.closePath();x.fillStyle='#fff';x.fill();x.strokeStyle='#0ff';x.lineWidth=5;x.stroke();x.shadowBlur=0;T.forEach((a,i)=>{a.life-=a.dec;a.life<=0?T.splice(i,1):(x.globalAlpha=a.life*1.3,x.fillStyle=a.c,x.fillRect(a.x-1,a.y-1,2,2))});x.globalAlpha=1;Q.forEach((a,i)=>{a.x+=a.vx;a.y+=a.vy;a.life-=a.dec;a.life<=0?Q.splice(i,1):(x.globalAlpha=a.life*1.6,x.fillStyle=a.c,x.beginPath(),x.arc(a.x+ox,a.y+oy,a.size*a.life*1.8,0,6.28),x.fill())});x.globalAlpha=1;if(z>=nx){l++;nx+=2100|0;ch=1;pick();boom(W()/2,H()/2,'#0ff',50,14)}x.save();x.shadowBlur=15;x.shadowColor='#f326';x.fillStyle='rgba(20,0,0,.6)';if(x.roundRect)x.beginPath(),x.roundRect(hx,hy,hw,hh,10),x.fill();else x.fillRect(hx,hy,hw,hh);let r=player.h/player.m;r<0? r=0:0;let gr=x.createLinearGradient(hx,0,hx+hw,0);gr.addColorStop(0,'#800020');gr.addColorStop(.5,'#f326');gr.addColorStop(1,'#f68');x.fillStyle=r<.3?'#f90':gr;x.shadowBlur=r<.3?20:10;if(x.roundRect)x.beginPath(),x.roundRect(hx,hy,hw*r,hh,10),x.fill();else x.fillRect(hx,hy,hw*r,hh);x.fillStyle='#fff';x.font=`bold ${fs}px Arial`;x.textAlign='center';x.shadowBlur=5;x.shadowColor='#000';x.fillText(`LV ${l} • ${z}`,W()/2,hy-12);x.restore();if(p.h<=0){go=1;x.fillStyle='rgba(200,20,60,.9)';x.font='bold 80px Arial';x.textAlign='center';x.fillText('FAILURE',W()/2,H()/2-20);let w=250,h=60,xx=W()/2-w/2,yy=H()/2+50;x.fillStyle='rgba(0,200,255,.8)';x.fillRect(xx,yy,w,h,12);x.strokeStyle='#0ff';x.lineWidth=4;x.strokeRect(xx,yy,w,h);x.fillStyle='#fff';x.font='bold 30px Arial';x.fillText('RESTART',W()/2,yy+40);rb={x:xx,y:yy,w,h}}ch&&du()}L();</script></body></html>
